{"version":3,"sources":["media.js","beep.js","Timer.js","TimerSet.js","App.js","NoSleep.js","index.js"],"names":["module","exports","webm","mp4","window","AudioContext","webkitAudioContext","audiocontext","fgain","createGain","connect","destination","TimerDiv","styled","div","shortbeep","options","console","warn","state","interval","duration","beep","times","loop","i","currentTime","osc","createOscillator","gain","setValueAtTime","value","exponentialRampToValueAtTime","start","stop","onended","disconnect","play","setTimeout","destroy","context","close","Beep","Timer","props","propstime","time","onEnd","useState","setTime","originalTime","setOriginalTime","animate","useCallback","newTime","Date","Math","ceil","useEffect","handle","requestAnimationFrame","cancelAnimationFrame","TimerSetDiv","TimerSet","setStart","timeset","setTimeset","running","setRunning","timesetquery","URLSearchParams","useLocation","search","get","timesetstr","sections","split","section","repeat","labels","map","x","parseInt","log","length","atimeset","label","push","parseTimeset","progress","slice","reduce","a","b","nexttime","nextlabel","buttonicon","key","onClick","className","LinearProgress","variant","color","Fab","aria-label","App","require","oldIOS","navigator","parseFloat","exec","userAgent","replace","MSStream","nativeWakeLock","NoSleep","this","_wakeLock","handleVisibilityChange","document","visibilityState","enable","addEventListener","noSleepTimer","noSleepVideo","createElement","setAttribute","_addSourceToVideo","random","element","type","dataURI","source","src","appendChild","wakeLock","request","then","catch","err","error","name","message","disable","setInterval","hidden","location","href","release","clearInterval","pause","noSleep","nosleep","ex","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8bf8c890.chunk.js","sourcesContent":["module.exports = {\n  webm:\n    \"data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=\",\n  mp4:\n    \"data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQAD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\",\n};\n","var INTERVAL = 250\nvar RAMP_DURATION = 1\n\nwindow.AudioContext = window.AudioContext || window.webkitAudioContext\nwindow.audiocontext = window.audiocontext || new window.AudioContext()\nlet audiocontext = window.audiocontext;\nvar fgain = audiocontext.createGain()\nfgain.connect(audiocontext.destination)\n\nexport default function (options) {\n\n  if (!options) options = {}\n  console.warn('AUDIO', audiocontext.state);\n  var interval = options.interval || INTERVAL\n  var duration = options.duration || RAMP_DURATION;\n\n  var play = function () {\n    console.warn('AUDIO play', audiocontext.state);\n    var currentTime = audiocontext.currentTime\n    var osc = audiocontext.createOscillator()\n    var gain = audiocontext.createGain()\n    osc.connect(gain)\n    gain.connect(fgain);\n\n    gain.gain.setValueAtTime(gain.gain.value, audiocontext.currentTime);\n    gain.gain.exponentialRampToValueAtTime(0.001, audiocontext.currentTime + duration);\n\n    osc.start(0);\n    osc.stop(currentTime + duration);\n\n    \n    osc.onended = function () {\n      gain.disconnect(fgain);\n      osc.disconnect(gain);\n    }\n  }\n\n  var beep = function (times) {\n    if (!times) times = 1\n\n    ;(function loop (i) {\n      play()\n      if (++i < times) setTimeout(loop, interval, i)\n    })(0)\n  }\n\n  beep.destroy = function () {\n    if (!options.context) audiocontext.close()\n  }\n\n  return beep\n}\n","import React,{useEffect, useState, useCallback} from 'react';\nimport Beep from './beep.js';\n\nimport styled from 'styled-components';\n\nconst TimerDiv = styled.div`\n   display:flex;\n   align-items: flex-end;\n   justify-content:center;\n   flex:1;\n   font-size:10em;\n   letter-spacing:1px;\n    max-height: 180px;\n    align-items: center;\n`;\n\nconst shortbeep = Beep({duration:0.2});\n\nconst Timer = (props) => {\n  const {time:propstime, start, onEnd} = props;\n  const [time,setTime] = useState(propstime);\n  const [originalTime,setOriginalTime] = useState(propstime);\n\n  const animate = useCallback(()=>{\n    if (start) {\n      let newTime = originalTime - ((new Date() - start)/1000);\n      if (newTime <= 0.2) {\n\tnewTime = 0;\n\tsetTime(0);\n\tconsole.warn('ending!');\n\tonEnd();\n      }\n      else {\n\tif (Math.ceil(time) > Math.ceil(newTime)) {\n\t  if (newTime <= 3) {\n\t    shortbeep(1);\n\t  }\n\t  if (newTime <= 1) {\n\t    shortbeep(2);\n\t  }\n\t}\n\tsetTime(newTime);\n      }\n    }\n  }, [start, onEnd, time, originalTime]);\n\n  useEffect(()=>{\n    \n    const handle = requestAnimationFrame(animate);\n    return ()=>{\n      cancelAnimationFrame(handle);\n    };\n  },[time, animate]);\n\n  useEffect(()=> {\n    if (start) {\n      //console.warn('Timer starts! use effect timer start', start, time);\n      const handle = requestAnimationFrame(animate);\n      return ()=>{\n\tcancelAnimationFrame(handle);\n      };\n    }\n    else {\n      //console.log('setting original time');\n      setOriginalTime(time);\n    }\n  }, [start, animate, time]);\n\n  useEffect(()=> {\n    //console.log('props.time changed, setting', propstime);\n    setOriginalTime(propstime);\n  },[propstime]);\n\n\n  return (\n    <TimerDiv>\n      {time !== -1 ? Math.ceil(time) : 'fin'}\n    </TimerDiv>\n  );\n}\n\nexport default Timer;\n","import React,{useEffect, useState} from 'react';\nimport Timer from './Timer.js';\nimport styled from 'styled-components';\n//import Beep from './beep.js';\n\nimport Fab from '@material-ui/core/Fab';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport {\n  useLocation\n} from \"react-router-dom\";\n\n//const short= Beep({duration:0.2, interval:150});\n\nconst TimerSetDiv = styled.div`\n  flex:1;\n  display:flex;\n  flex-direction:column;\n  justify-content:center;\n  align-items:center;\n\n  background:black;\n\n  padding:20px;\n\n  buttondiv {\n    position:relative;\n    display:flex;\n    flex:1;\n    max-height:50px;\n  }\n  button {\n   text-transform:uppercase;\n   flex:1;\n  }\n\n  counter {\n    display: flex;\n    flex-direction:column;\n    flex:1;\n    font-size:20px;\n    max-height: 40px;\n    align-items: center;\n  }\n\n  .progress {\n    padding-top:15px;\n    width:100px;\n    .MuiLinearProgress-root {\n     height:8px;\n    }\n \n  } \n\n  label {\n   text-transform:capitalize;\n   max-height:50px;\n   font-size:30px;\n   flex:1;\n   align-items:flex-start;\n  }\n\n  sublabel {\n   display:flex;\n   cursor:pointer;\n   max-height:40px;\n   font-size:16px;\n   color:grey;\n   flex:1;\n   align-items:center;\n  }\n\n`;\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\n\nconst TimerSet = (props) => {\n  const [start,setStart] = useState(null);\n  const [timeset,setTimeset] = useState(null);\n  const [running, setRunning] = useState(0);\n\n  let query = useQuery();\n  let timesetquery = query.get('set'); \n  if (!timesetquery) {\n    timesetquery = `1,Get ready,5|9,Work/Rest,30/10`;\n  }\n\n\n  const parseTimeset = (timesetstr)=> {\n    const timeset = [];\n    const sections = timesetstr.split('|');\n    for (let section of sections) {\n      let [repeat,labels,times] = section.split(',');\n      times = times.split('/').map(x=>parseInt(x));\n      labels = labels.split('/');\n      console.log('parts', repeat, labels, times, section);\n      for (let i = 0; i < repeat*labels.length; i++) {\n\tlet atimeset = {label: labels[i % labels.length], time: times[i % times.length]};\n\ttimeset.push(atimeset);\n      }\n    }\n    console.log('parsed', timeset);\n    return timeset;\n  };\n\n  useEffect(()=>{\n    const timeset = parseTimeset(timesetquery);\n    setTimeset(timeset);\n  },[timesetquery]);\n  \n  useEffect(()=>{\n    console.warn('start changed! start from timerset', start);\n  },[start]);\n\n  if (!timesetquery) {\n    return null;\n  }\n\n  if (!timeset || !timeset[running]) {\n    return null;\n  }\n  \n  const progress = timeset.slice(0,running+1).reduce((a,b)=>(a + b.time), 0) / timeset.reduce((a,b)=>(a + b.time), 0) * 100;\n  \n  console.log('progress', progress);\n  \n  const {time,label} = timeset[running];\n  const {time:nexttime,label:nextlabel} = timeset[running+1] || {};\n  \n  console.log('label', label, time, running, timeset);\n\n  const buttonicon = start ? <PauseIcon /> : <PlayArrowIcon />;\n  \n  return (\n    <TimerSetDiv>\n      <label>{label}</label>\n      <Timer key={running} {...{time, label, running}}\n\t     onEnd={()=> {\n\t       console.warn('on end on timerset!');\n\t       setStart(null); // because we set 2 states here, prevent 2 starts\n\t       if (timeset[running+1]) {\n\t\t setRunning(running=>running+1);\n\t\t setStart(new Date());\n\t       }\n\t       else {\n\t\t// shortbeep(3);\n\t       }\n\t}}\n\tstart={start} />\n\t<sublabel onClick={()=>{\n\t    setStart(null); // because we set 2 states here, prevent 2 starts\n\t    if (timeset[running+1]) {\n\t      setRunning(running=>running+1);\n\t    }\n\t  }}>{nextlabel ? `Next: ${nextlabel} / ${nexttime}` : ``}</sublabel>\n\t<counter>\n\t  <div className=\"progress\"><LinearProgress variant=\"determinate\" value={progress} color=\"secondary\" /></div>\n\t</counter>\n\t<buttondiv>\n\t  <Fab color=\"primary\" aria-label=\"run\"\n\t       onClick={()=> {\n\t\t /*if (window.audiocontext.state === 'suspended') {\n\t\t   window.audiocontext.resume();\n\t\t }*/\n\t\t start ? setStart(null) : setStart(new Date())\n\t    }}>\n\t    {buttonicon}\n\t  </Fab>\n\t</buttondiv>\n    </TimerSetDiv>\n  );\n}\n\nexport default TimerSet;\n","import React from 'react';\nimport './App.css';\nimport TimerSet from './TimerSet.js';\n\nimport {\n  BrowserRouter as Router,\n} from \"react-router-dom\";\n\n\nfunction App() {  \n  return (\n    <Router>\n      <div className=\"App\">\n\t<TimerSet />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const { webm, mp4 } = require(\"./media.js\");\n\n// Detect iOS browsers < version 10\nconst oldIOS =\n  typeof navigator !== \"undefined\" &&\n  parseFloat(\n    (\n      \"\" +\n      (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(\n        navigator.userAgent\n      ) || [0, \"\"])[1]\n    )\n      .replace(\"undefined\", \"3_2\")\n      .replace(\"_\", \".\")\n      .replace(\"_\", \"\")\n  ) < 10 &&\n  !window.MSStream;\n\n// Detect native Wake Lock API support\nconst nativeWakeLock = \"wakeLock\" in navigator;\n\nclass NoSleep {\n  constructor() {\n    if (nativeWakeLock) {\n      this._wakeLock = null;\n      const handleVisibilityChange = () => {\n        if (this._wakeLock !== null && document.visibilityState === \"visible\") {\n          this.enable();\n        }\n      };\n      document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n      document.addEventListener(\"fullscreenchange\", handleVisibilityChange);\n    } else if (oldIOS) {\n      this.noSleepTimer = null;\n    } else {\n      // Set up no sleep video element\n      this.noSleepVideo = document.createElement(\"video\");\n\n      this.noSleepVideo.setAttribute(\"title\", \"No Sleep\");\n      this.noSleepVideo.setAttribute(\"playsinline\", \"\");\n\n      this._addSourceToVideo(this.noSleepVideo, \"webm\", webm);\n      this._addSourceToVideo(this.noSleepVideo, \"mp4\", mp4);\n\n      this.noSleepVideo.addEventListener(\"loadedmetadata\", () => {\n        if (this.noSleepVideo.duration <= 1) {\n          // webm source\n          this.noSleepVideo.setAttribute(\"loop\", \"\");\n        } else {\n          // mp4 source\n          this.noSleepVideo.addEventListener(\"timeupdate\", () => {\n            if (this.noSleepVideo.currentTime > 0.5) {\n              this.noSleepVideo.currentTime = Math.random();\n            }\n          });\n        }\n      });\n    }\n  }\n\n  _addSourceToVideo(element, type, dataURI) {\n    var source = document.createElement(\"source\");\n    source.src = dataURI;\n    source.type = `video/${type}`;\n    element.appendChild(source);\n  }\n\n  enable() {\n    if (nativeWakeLock) {\n      navigator.wakeLock\n        .request(\"screen\")\n        .then((wakeLock) => {\n          this._wakeLock = wakeLock;\n          console.log(\"Wake Lock active.\");\n          this._wakeLock.addEventListener(\"release\", () => {\n            // ToDo: Potentially emit an event for the page to observe since\n            // Wake Lock releases happen when page visibility changes.\n            // (https://web.dev/wakelock/#wake-lock-lifecycle)\n            console.log(\"Wake Lock released.\");\n          });\n        })\n        .catch((err) => {\n          console.error(`${err.name}, ${err.message}`);\n        });\n    } else if (oldIOS) {\n      this.disable();\n      console.warn(`\n        NoSleep enabled for older iOS devices. This can interrupt\n        active or long-running network requests from completing successfully.\n        See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n      `);\n      this.noSleepTimer = window.setInterval(() => {\n        if (!document.hidden) {\n          window.location.href = window.location.href.split(\"#\")[0];\n          window.setTimeout(window.stop, 0);\n        }\n      }, 15000);\n    } else {\n      this.noSleepVideo.play();\n    }\n  }\n\n  disable() {\n    if (nativeWakeLock) {\n      this._wakeLock.release();\n      this._wakeLock = null;\n    } else if (oldIOS) {\n      if (this.noSleepTimer) {\n        console.warn(`\n          NoSleep now disabled for older iOS devices.\n        `);\n        window.clearInterval(this.noSleepTimer);\n        this.noSleepTimer = null;\n      }\n    } else {\n      this.noSleepVideo.pause();\n    }\n  }\n}\n\nexport default NoSleep;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport NoSleep from './NoSleep';\n\nwindow.noSleep = null;\ndocument.addEventListener('click',  () => {\n  if (window.nosleep) window.nosleep.disable(); // Just to be sure if you forgot to disable.\n  window.nosleep = new NoSleep();\n  try {\n  window.nosleep.enable();\n  }\n  catch (ex) {\n    console.log('exception', ex)\n  }\n}, false);\n\n\n\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}