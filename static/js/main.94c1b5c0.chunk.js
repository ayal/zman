(this.webpackJsonpzman=this.webpackJsonpzman||[]).push([[0],{36:function(n,e,t){n.exports=t(51)},41:function(n,e,t){},42:function(n,e,t){n.exports=t.p+"static/media/logo.5d5d9eef.svg"},43:function(n,e,t){},51:function(n,e,t){"use strict";t.r(e);var a=t(0),o=t.n(a),i=t(15),r=t.n(i),c=(t(41),t(42),t(43),t(13)),l=t(19);window.AudioContext=window.AudioContext||window.webkitAudioContext,window.audiocontext=window.audiocontext||new window.AudioContext;var u=function(n){var e=window.audiocontext;n||(n={}),console.warn("AUDIO",e.state);var t=n.frequency||440,a=n.interval||250,o=n.duration||1,i=function(n){n||(n=1),function i(r){!function(){console.warn("AUDIO play",e.state);var n=e.currentTime,a=e.createOscillator(),i=e.createGain();a.connect(i),i.connect(e.destination),i.gain.setValueAtTime(i.gain.value,n),i.gain.exponentialRampToValueAtTime(1e-4,n+o),a.onended=function(){i.disconnect(e.destination),a.disconnect(i)},a.type="sine",a.frequency.value=t,a.start(n),a.stop(n+o)}(),++r<n&&setTimeout(i,a,r)}(0)};return i.destroy=function(){n.context||e.close()},i},s=t(20);function f(){var n=Object(l.a)(["\n   display:flex;\n   align-items: flex-end;\n   justify-content:center;\n   flex:1;\n   font-size:10em;\n   letter-spacing:1px;\n   max-height:200px;\n"]);return f=function(){return n},n}var d=s.a.div(f()),m=u({duration:.8}),p=u({duration:1}),x=function(n){var e=Object(a.useState)(n.time),t=Object(c.a)(e,2),i=t[0],r=t[1],l=Object(a.useState)(n.time),u=Object(c.a)(l,2),s=u[0],f=u[1],x=function(){if(n.start){var e=s-(new Date-n.start)/1e3;e<=.2?(e=0,r(0),console.warn("ending!"),n.onEnd()):(Math.ceil(i)>Math.ceil(e)&&(e<=3&&m(1),e<=1&&p(1)),r(e))}};return Object(a.useEffect)((function(){var n=requestAnimationFrame(x);return function(){cancelAnimationFrame(n)}}),[i]),Object(a.useEffect)((function(){if(n.start){console.warn("Timer starts! use effect timer start",n,i);var e=requestAnimationFrame(x);return function(){cancelAnimationFrame(e)}}console.log("setting original time"),f(i)}),[n.start]),Object(a.useEffect)((function(){console.log("props.time changed, setting",n.time),f(n.time)}),[n.time]),o.a.createElement(d,null,-1!==i?Math.ceil(i):"fin")},v=t(65),w=t(33),g=t.n(w),b=t(32),h=t.n(b),O=t(12);function j(){var n=Object(l.a)(["\n  flex:1;\n  display:flex;\n  flex-direction:column;\n  justify-content:center;\n  align-items:center;\n\n  background:black;\n\n  padding:20px;\n\n  buttondiv {\n    display:flex;\n    flex:1;\n    max-height:50px;\n  }\n  button {\n   text-transform:uppercase;\n   flex:1;\n  }\n\n  counter {\n    align-items:flex-end;\n    display: flex;\n    flex:1;\n    font-size:20px;\n    max-height:30px;\n  }\n\n  label {\n   max-height:80px;\n   font-size:30px;\n   flex:1;\n   align-items:flex-start;\n  }\n"]);return j=function(){return n},n}var y=u({duration:.8,interval:200}),E=s.a.div(j());var A=function(n){var e=Object(a.useState)(null),t=Object(c.a)(e,2),i=t[0],r=t[1],l=Object(a.useState)(null),u=Object(c.a)(l,2),s=u[0],f=u[1],d=Object(a.useState)(0),m=Object(c.a)(d,2),p=m[0],w=m[1],b=new URLSearchParams(Object(O.d)().search).get("set");b||(b="1,Get ready,5|9,Work/Rest,30/10");if(Object(a.useEffect)((function(){var n=function(n){var e=[],t=n.split("|"),a=!0,o=!1,i=void 0;try{for(var r,l=t[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var u=r.value,s=u.split(","),f=Object(c.a)(s,3),d=f[0],m=f[1],p=f[2];p=p.split("/").map((function(n){return parseInt(n)})),m=m.split("/"),console.log("parts",d,m,p,u);for(var x=0;x<d*m.length;x++){var v={label:m[x%m.length],time:p[x%p.length]};e.push(v)}}}catch(w){o=!0,i=w}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return console.log("parsed",e),e}(b);f(n)}),[]),Object(a.useEffect)((function(){console.warn("start changed! start from timerset",i)}),[i]),!b)return null;if(!s||!s[p])return null;var j=s[p],A=j.time,k=j.label;console.log("label",k,A,p,s);var S=i?o.a.createElement(h.a,null):o.a.createElement(g.a,null);return o.a.createElement(E,null,o.a.createElement("counter",null,"".concat(p+1," / ").concat(s.length)),o.a.createElement(x,Object.assign({key:p},{time:A,label:k,running:p},{onEnd:function(){console.warn("on end on timerset!"),r(null),s[p+1]?(w((function(n){return n+1})),r(new Date)):y(2)},start:i})),o.a.createElement("label",null,k),o.a.createElement("buttondiv",null,o.a.createElement(v.a,{color:"primary","aria-label":"run",onClick:function(){"suspended"===window.audiocontext.state&&window.audiocontext.resume(),r(i?null:new Date)}},S)))},k=t(23);var S=function(){return o.a.createElement(k.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(A,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.94c1b5c0.chunk.js.map