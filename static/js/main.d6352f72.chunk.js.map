{"version":3,"sources":["media.js","Timer.js","TimerSet.js","App.js","NoSleep.js","index.js"],"names":["module","exports","webm","mp4","TimerDiv","styled","div","Timer","props","propstime","time","start","onEnd","useState","setTime","originalTime","setOriginalTime","animate","useCallback","newTime","Date","console","warn","Math","ceil","useEffect","handle","requestAnimationFrame","cancelAnimationFrame","TimerSetDiv","TimerSet","setStart","timeset","setTimeset","running","setRunning","timesetquery","URLSearchParams","useLocation","search","get","timesetstr","sections","split","section","repeat","labels","times","map","x","parseInt","log","i","length","atimeset","label","push","parseTimeset","progress","slice","reduce","a","b","nexttime","nextlabel","buttonicon","key","onClick","className","LinearProgress","variant","value","color","Fab","aria-label","App","require","oldIOS","navigator","parseFloat","exec","userAgent","replace","window","MSStream","nativeWakeLock","NoSleep","alert","this","_wakeLock","handleVisibilityChange","document","visibilityState","enable","addEventListener","noSleepTimer","noSleepVideo","createElement","setAttribute","_addSourceToVideo","duration","currentTime","random","element","type","dataURI","source","src","appendChild","wakeLock","request","then","catch","err","error","name","message","disable","setInterval","hidden","location","href","setTimeout","stop","play","release","clearInterval","pause","noSleep","nosleep","ex","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d6352f72.chunk.js","sourcesContent":["module.exports = {\n  webm:\n    \"data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=\",\n  mp4:\n    \"data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQAD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\",\n};\n","import React,{useEffect, useState, useCallback} from 'react';\n//import Beep from './beep.js';\n\nimport styled from 'styled-components';\n\nconst TimerDiv = styled.div`\n   display:flex;\n   align-items: flex-end;\n   justify-content:center;\n   flex:1;\n   font-size:10em;\n   letter-spacing:1px;\n    max-height: 180px;\n    align-items: center;\n`;\n\n//const shortbeep = Beep({duration:0.2});\n\nconst Timer = (props) => {\n  const {time:propstime, start, onEnd} = props;\n  const [time,setTime] = useState(propstime);\n  const [originalTime,setOriginalTime] = useState(propstime);\n\n  const animate = useCallback(()=>{\n    if (start) {\n      let newTime = originalTime - ((new Date() - start)/1000);\n      if (newTime <= 0.2) {\n\tnewTime = 0;\n\tsetTime(0);\n\tconsole.warn('ending!');\n\tonEnd();\n      }\n      else {\n\tif (Math.ceil(time) > Math.ceil(newTime)) {\n\t  if (newTime <= 3) {\n\t    //shortbeep(1);\n\t  }\n\t  if (newTime <= 1) {\n\t    //shortbeep(2);\n\t  }\n\t}\n\tsetTime(newTime);\n      }\n    }\n  }, [start, onEnd, time, originalTime]);\n\n  useEffect(()=>{\n    \n    const handle = requestAnimationFrame(animate);\n    return ()=>{\n      cancelAnimationFrame(handle);\n    };\n  },[time, animate]);\n\n  useEffect(()=> {\n    if (start) {\n      //console.warn('Timer starts! use effect timer start', start, time);\n      const handle = requestAnimationFrame(animate);\n      return ()=>{\n\tcancelAnimationFrame(handle);\n      };\n    }\n    else {\n      //console.log('setting original time');\n      setOriginalTime(time);\n    }\n  }, [start, animate, time]);\n\n  useEffect(()=> {\n    //console.log('props.time changed, setting', propstime);\n    setOriginalTime(propstime);\n  },[propstime]);\n\n\n  return (\n    <TimerDiv>\n      {time !== -1 ? Math.ceil(time) : 'fin'}\n    </TimerDiv>\n  );\n}\n\nexport default Timer;\n","import React,{useEffect, useState} from 'react';\nimport Timer from './Timer.js';\nimport styled from 'styled-components';\n//import Beep from './beep.js';\n\nimport Fab from '@material-ui/core/Fab';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport {\n  useLocation\n} from \"react-router-dom\";\n\n//const short= Beep({duration:0.2, interval:150});\n\nconst TimerSetDiv = styled.div`\n  flex:1;\n  display:flex;\n  flex-direction:column;\n  justify-content:center;\n  align-items:center;\n\n  background:black;\n\n  padding:20px;\n\n  buttondiv {\n    position:relative;\n    display:flex;\n    flex:1;\n    max-height:50px;\n  }\n  button {\n   text-transform:uppercase;\n   flex:1;\n  }\n\n  counter {\n    display: flex;\n    flex-direction:column;\n    flex:1;\n    font-size:20px;\n    max-height: 40px;\n    align-items: center;\n  }\n\n  .progress {\n    padding-top:15px;\n    width:100px;\n    .MuiLinearProgress-root {\n     height:8px;\n    }\n \n  } \n\n  label {\n   text-transform:capitalize;\n   max-height:50px;\n   font-size:30px;\n   flex:1;\n   align-items:flex-start;\n  }\n\n  sublabel {\n   display:flex;\n   cursor:pointer;\n   max-height:40px;\n   font-size:16px;\n   color:grey;\n   flex:1;\n   align-items:center;\n  }\n\n`;\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\n\nconst TimerSet = (props) => {\n  const [start,setStart] = useState(null);\n  const [timeset,setTimeset] = useState(null);\n  const [running, setRunning] = useState(0);\n\n  let query = useQuery();\n  let timesetquery = query.get('set'); \n  if (!timesetquery) {\n    timesetquery = `1,Get ready,5|9,Work/Rest,30/10`;\n  }\n\n\n  const parseTimeset = (timesetstr)=> {\n    const timeset = [];\n    const sections = timesetstr.split('|');\n    for (let section of sections) {\n      let [repeat,labels,times] = section.split(',');\n      times = times.split('/').map(x=>parseInt(x));\n      labels = labels.split('/');\n      console.log('parts', repeat, labels, times, section);\n      for (let i = 0; i < repeat*labels.length; i++) {\n\tlet atimeset = {label: labels[i % labels.length], time: times[i % times.length]};\n\ttimeset.push(atimeset);\n      }\n    }\n    console.log('parsed', timeset);\n    return timeset;\n  };\n\n  useEffect(()=>{\n    const timeset = parseTimeset(timesetquery);\n    setTimeset(timeset);\n  },[timesetquery]);\n  \n  useEffect(()=>{\n    console.warn('start changed! start from timerset', start);\n  },[start]);\n\n  if (!timesetquery) {\n    return null;\n  }\n\n  if (!timeset || !timeset[running]) {\n    return null;\n  }\n  \n  const progress = timeset.slice(0,running+1).reduce((a,b)=>(a + b.time), 0) / timeset.reduce((a,b)=>(a + b.time), 0) * 100;\n  \n  console.log('progress', progress);\n  \n  const {time,label} = timeset[running];\n  const {time:nexttime,label:nextlabel} = timeset[running+1] || {};\n  \n  console.log('label', label, time, running, timeset);\n\n  const buttonicon = start ? <PauseIcon /> : <PlayArrowIcon />;\n  \n  return (\n    <TimerSetDiv>\n      <label>{label}</label>\n      <Timer key={running} {...{time, label, running}}\n\t     onEnd={()=> {\n\t       console.warn('on end on timerset!');\n\t       setStart(null); // because we set 2 states here, prevent 2 starts\n\t       if (timeset[running+1]) {\n\t\t setRunning(running=>running+1);\n\t\t setStart(new Date());\n\t       }\n\t       else {\n\t\t// shortbeep(3);\n\t       }\n\t}}\n\tstart={start} />\n\t<sublabel onClick={()=>{\n\t    setStart(null); // because we set 2 states here, prevent 2 starts\n\t    if (timeset[running+1]) {\n\t      setRunning(running=>running+1);\n\t    }\n\t  }}>{nextlabel ? `Next: ${nextlabel} / ${nexttime}` : ``}</sublabel>\n\t<counter>\n\t  <div className=\"progress\"><LinearProgress variant=\"determinate\" value={progress} color=\"secondary\" /></div>\n\t</counter>\n\t<buttondiv>\n\t  <Fab color=\"primary\" aria-label=\"run\"\n\t       onClick={()=> {\n\t\t /*if (window.audiocontext.state === 'suspended') {\n\t\t   window.audiocontext.resume();\n\t\t }*/\n\t\t start ? setStart(null) : setStart(new Date())\n\t    }}>\n\t    {buttonicon}\n\t  </Fab>\n\t</buttondiv>\n    </TimerSetDiv>\n  );\n}\n\nexport default TimerSet;\n","import React from 'react';\nimport './App.css';\nimport TimerSet from './TimerSet.js';\n\nimport {\n  BrowserRouter as Router,\n} from \"react-router-dom\";\n\n\nfunction App() {  \n  return (\n    <Router>\n      <div className=\"App\">\n\t<TimerSet />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const { webm, mp4 } = require(\"./media.js\");\n\n// Detect iOS browsers < version 10\nconst oldIOS =\n  typeof navigator !== \"undefined\" &&\n  parseFloat(\n    (\n      \"\" +\n      (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(\n        navigator.userAgent\n      ) || [0, \"\"])[1]\n    )\n      .replace(\"undefined\", \"3_2\")\n      .replace(\"_\", \".\")\n      .replace(\"_\", \"\")\n  ) < 10 &&\n  !window.MSStream;\n\n// Detect native Wake Lock API support\nconst nativeWakeLock = \"wakeLock\" in navigator;\n\nclass NoSleep {\n  constructor() {\n    if (nativeWakeLock) {\n      alert('native build')\n      this._wakeLock = null;\n      const handleVisibilityChange = () => {\n        if (this._wakeLock !== null && document.visibilityState === \"visible\") {\n          this.enable();\n        }\n      };\n      document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n      document.addEventListener(\"fullscreenchange\", handleVisibilityChange);\n    } else if (oldIOS) {\n      alert('old ios build')\n      this.noSleepTimer = null;\n    } else {\n      alert('normal build')\n      // Set up no sleep video element\n      this.noSleepVideo = document.createElement(\"video\");\n\n      this.noSleepVideo.setAttribute(\"title\", \"No Sleep\");\n      this.noSleepVideo.setAttribute(\"playsinline\", \"\");\n\n      this._addSourceToVideo(this.noSleepVideo, \"webm\", webm);\n      this._addSourceToVideo(this.noSleepVideo, \"mp4\", mp4);\n\n      this.noSleepVideo.addEventListener(\"loadedmetadata\", () => {\n        if (this.noSleepVideo.duration <= 1) {\n          alert('webm video loop')\n          // webm source\n          this.noSleepVideo.setAttribute(\"loop\", \"\");\n        } else {\n          alert('mp4 video loop')\n          // mp4 source\n          this.noSleepVideo.addEventListener(\"timeupdate\", () => {\n            if (this.noSleepVideo.currentTime > 0.5) {\n              this.noSleepVideo.currentTime = Math.random();\n            }\n          });\n        }\n      });\n    }\n  }\n\n  _addSourceToVideo(element, type, dataURI) {\n    var source = document.createElement(\"source\");\n    source.src = dataURI;\n    source.type = `video/${type}`;\n    element.appendChild(source);\n  }\n\n  enable() {\n    if (nativeWakeLock) {\n      alert('enable native')\n      navigator.wakeLock\n        .request(\"screen\")\n        .then((wakeLock) => {\n          this._wakeLock = wakeLock;\n          console.log(\"Wake Lock active.\");\n          this._wakeLock.addEventListener(\"release\", () => {\n            // ToDo: Potentially emit an event for the page to observe since\n            // Wake Lock releases happen when page visibility changes.\n            // (https://web.dev/wakelock/#wake-lock-lifecycle)\n            console.log(\"Wake Lock released.\");\n          });\n        })\n        .catch((err) => {\n          console.error(`${err.name}, ${err.message}`);\n        });\n    } else if (oldIOS) {\n      alert('enable oldios')\n      this.disable();\n      console.warn(`\n        NoSleep enabled for older iOS devices. This can interrupt\n        active or long-running network requests from completing successfully.\n        See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n      `);\n      this.noSleepTimer = window.setInterval(() => {\n        if (!document.hidden) {\n          window.location.href = window.location.href.split(\"#\")[0];\n          window.setTimeout(window.stop, 0);\n        }\n      }, 15000);\n    } else {\n      alert('enable normal play')\n      this.noSleepVideo.play();\n    }\n  }\n\n  disable() {\n    alert('disabling')\n    if (nativeWakeLock) {\n      this._wakeLock.release();\n      this._wakeLock = null;\n    } else if (oldIOS) {\n      if (this.noSleepTimer) {\n        console.warn(`\n          NoSleep now disabled for older iOS devices.\n        `);\n        window.clearInterval(this.noSleepTimer);\n        this.noSleepTimer = null;\n      }\n    } else {\n      this.noSleepVideo.pause();\n    }\n  }\n}\n\nexport default NoSleep;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport NoSleep from './NoSleep';\n\nwindow.noSleep = null;\ndocument.addEventListener('click',  () => {\n  if (window.nosleep) window.nosleep.disable(); // Just to be sure if you forgot to disable.\n  window.nosleep = new NoSleep();\n  alert('nosleep')\n  try {\n  window.nosleep.enable();\n  }\n  catch (ex) {\n    console.log('exception', ex)\n  }\n}, false);\n\n\n\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}