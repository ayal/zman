(this.webpackJsonpzman=this.webpackJsonpzman||[]).push([[0],{41:function(e,n,t){e.exports=t(58)},46:function(e,n,t){},47:function(e,n,t){},58:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(17),i=t.n(l),o=(t(46),t(47),t(14)),c=t(20),u=t(21);function s(){var e=Object(c.a)(["\n   display:flex;\n   align-items: flex-end;\n   justify-content:center;\n   flex:1;\n   font-size:10em;\n   letter-spacing:1px;\n    max-height: 180px;\n    align-items: center;\n"]);return s=function(){return e},e}var f=u.a.div(s()),m=function(e){var n=e.time,t=e.start,l=e.onEnd,i=Object(a.useState)(n),c=Object(o.a)(i,2),u=c[0],s=c[1],m=Object(a.useState)(n),p=Object(o.a)(m,2),d=p[0],b=p[1],x=Object(a.useCallback)((function(){if(t){var e=d-(new Date-t)/1e3;e<=.2?(e=0,s(0),console.warn("ending!"),l()):(Math.ceil(u),Math.ceil(e),s(e))}}),[t,l,u,d]);return Object(a.useEffect)((function(){var e=requestAnimationFrame(x);return function(){cancelAnimationFrame(e)}}),[u,x]),Object(a.useEffect)((function(){if(t){var e=requestAnimationFrame(x);return function(){cancelAnimationFrame(e)}}b(u)}),[t,x,u]),Object(a.useEffect)((function(){b(n)}),[n]),r.a.createElement(f,null,-1!==u?Math.ceil(u):"fin")},p=t(73),d=t(74),b=t(37),x=t.n(b),g=t(36),v=t.n(g),h=t(13),w=t(34),E=t.n(w);function j(){var e=Object(c.a)(["\n  flex:1;\n  display:flex;\n  flex-direction:column;\n  justify-content:center;\n  align-items:center;\n\n  background:black;\n\n  padding:20px;\n\n  buttondiv {\n    position:relative;\n    display:flex;\n    flex:1;\n    max-height:50px;\n  }\n  button {\n   text-transform:uppercase;\n   flex:1;\n  }\n\n  counter {\n    display: flex;\n    flex-direction:column;\n    flex:1;\n    font-size:20px;\n    max-height: 40px;\n    align-items: center;\n  }\n\n  .progress {\n    padding-top:15px;\n    width:100px;\n    .MuiLinearProgress-root {\n     height:8px;\n    }\n \n  } \n\n  label {\n   text-transform:capitalize;\n   max-height:50px;\n   font-size:30px;\n   flex:1;\n   align-items:flex-start;\n  }\n\n  sublabel {\n   display:flex;\n   cursor:pointer;\n   max-height:40px;\n   font-size:16px;\n   color:grey;\n   flex:1;\n   align-items:center;\n  }\n\n"]);return j=function(){return e},e}window.noSleep=null,document.addEventListener("click",(function(){window.nosleep&&window.nosleep.disable(),window.nosleep=new E.a,window.nosleep.enable()}),!1);var O=u.a.div(j());var y=function(e){var n=Object(a.useState)(null),t=Object(o.a)(n,2),l=t[0],i=t[1],c=Object(a.useState)(null),u=Object(o.a)(c,2),s=u[0],f=u[1],b=Object(a.useState)(0),g=Object(o.a)(b,2),w=g[0],E=g[1],j=new URLSearchParams(Object(h.d)().search).get("set");j||(j="1,Get ready,5|9,Work/Rest,30/10");if(Object(a.useEffect)((function(){var e=function(e){var n=[],t=e.split("|"),a=!0,r=!1,l=void 0;try{for(var i,c=t[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var u=i.value,s=u.split(","),f=Object(o.a)(s,3),m=f[0],p=f[1],d=f[2];d=d.split("/").map((function(e){return parseInt(e)})),p=p.split("/"),console.log("parts",m,p,d,u);for(var b=0;b<m*p.length;b++){var x={label:p[b%p.length],time:d[b%d.length]};n.push(x)}}}catch(g){r=!0,l=g}finally{try{a||null==c.return||c.return()}finally{if(r)throw l}}return console.log("parsed",n),n}(j);f(e)}),[j]),Object(a.useEffect)((function(){console.warn("start changed! start from timerset",l)}),[l]),!j)return null;if(!s||!s[w])return null;var y=s.slice(0,w+1).reduce((function(e,n){return e+n.time}),0)/s.reduce((function(e,n){return e+n.time}),0)*100;console.log("progress",y);var k=s[w],S=k.time,z=k.label,A=s[w+1]||{},F=A.time,M=A.label;console.log("label",z,S,w,s);var C=l?r.a.createElement(v.a,null):r.a.createElement(x.a,null);return r.a.createElement(O,null,r.a.createElement("label",null,z),r.a.createElement(m,Object.assign({key:w},{time:S,label:z,running:w},{onEnd:function(){console.warn("on end on timerset!"),i(null),s[w+1]&&(E((function(e){return e+1})),i(new Date))},start:l})),r.a.createElement("sublabel",{onClick:function(){i(null),s[w+1]&&E((function(e){return e+1}))}},M?"Next: ".concat(M," / ").concat(F):""),r.a.createElement("counter",null,r.a.createElement("div",{className:"progress"},r.a.createElement(d.a,{variant:"determinate",value:y,color:"secondary"}))),r.a.createElement("buttondiv",null,r.a.createElement(p.a,{color:"primary","aria-label":"run",onClick:function(){i(l?null:new Date)}},C)))},k=t(26);var S=function(){return r.a.createElement(k.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(y,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.29ea7163.chunk.js.map